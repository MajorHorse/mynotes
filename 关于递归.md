# 前言

最近练习的编程题里面一大半都需要用到递归，但是我对于递归的调用过程以及最后的跳出条件理解的还不够明朗，在编码过程中总是会遇到不知道哪一步该用递归以及怎么跳出循环的问题，该整理一下思路了。

# 递归三大要素

第一要素：明确这个函数要干什么，即要解决什么核心问题。对于递归的函数体部分，最重要的一件事就是要明确这个函数的功能。我个人觉得，递归函数在某种意义上也该具备“简单性”的特征，即函数本身的语句该足够简洁，因为递归本身就是一个很耗费计算机资源的运算过程，所以递归体的语句如果过于繁杂，会使效率太低。

第二要素：寻找递归结束条件。所谓递归，就是会在函数内部代码中，调用这个函数自身。所以，递归结束条件的确定变的至关重要，不然的换，函数就会一直不间断地重复调用自身，形成死循环。具体来说，就是要明确当递归函数的参数为什么时，递归结束，并把之前调用函数运算的结果返回。这个时候我们必须能根据这个参数的值，能够直接知道函数的结果是什么。

第三要素：找出函数的等价关系式，即不断缩小参数的范围，也可以称之为递归的拆解。这一步可以说是最难的一步了，对应着编码时该如何再次调用自身。简单来说，这一步解决的就是将一个大问题分解为若干个子问题，而这些子问题的求解思路和大问题是一致的。

# 案例：斐波拉切数列的求解

题目描述：斐波那契数列的是这样一个数列：1、1、2、3、5、8、13、21、34....，即第一项 f(1) = 1,第二项 f(2) = 1.....,第 n 项目为 f(n) = f(n-1) + f(n-2)。求第 n 项的值是多少。

1.确定递归的功能

假设 f(n) 的功能是求第 n 项的值，代码如下：

```java
int f(int n){ }
```

2.找出递归跳出条件

显然，当 n = 1 或者 n = 2 ,我们可以轻易着知道结果 f(1) = f(2) = 1。所以，递归结束条件可以为  n <= 2

```java
int f(int n){
    if(n <= 2){
        return 1;
    }
}
```

3.找出函数的等价关系式

题目已经把等价关系式给出来了： f(n) = f(n-1) + f(n-2)，所以完整代码如下

```java
int f(int n){
    if(n <= 2){
        return 1;
    }
    return f(n-1) + f(n - 2);
}
```